.\" Automatically generated by Pandoc 2.9.2.1
.\"
.TH "polonius-editor" "1" "" "Version 1.0" "Manual for the Polonius Editor"
.hy
.SH NAME
.PP
polonius-editor - sequentially executes editing instructions on a file
.SH SYNOPSIS
.PP
\f[C]polonius-editor ./file -a \[dq]INSERT 0 hello world\[dq]\f[R]
.PP
\f[C]polonius-editor ./file -a \[dq]REMOVE 0 5\[dq]\f[R]
.PP
\f[C]polonius-editor ./file -a \[dq]REPLACE 0 salut a tous\[rs]nAnd hello\[dq] --special-chars\f[R]
.PP
\f[C]polonius-editor ./file -a \[dq]INSERT 0 hello world\[dq] -a \[dq]REMOVE 0 5\[dq] -a \[dq]REPLACE 0 salut a tous\[dq]\f[R]
.SH OPTIONS
.SS OVERVIEW
.PP
-i / \[en]input
.IP
.nf
\f[C]
Specify file to edit

The file can also be specified without the \[aq]-i\[aq] option
\f[R]
.fi
.PP
-a / \[en]add-instruction
.IP
.nf
\f[C]
Instruct the program on how to edit your file

Example instructions:

  REPLACE 5 hello world
    (Replaces text, starting from character #5, with \[dq]hello world\[dq])

  INSERT 7 salut a tous
    (Inserts \[dq]salut a tous\[dq] at character #7, shifting the rest of the file without replacing it)

  REMOVE 9 15
    (Removes characters #9 to #15 from the file)
\f[R]
.fi
.PP
-s / \[en]add-instruction-set
.IP
.nf
\f[C]
Provide a set of multiple instructions for editing the file

Each instruction in the set should be on its own line, as in the following example:

  --add-instruction-set \[dq]REPLACE 20 hello world
  INSERT 50 hello again
  REMOVE 70 75\[dq]
\f[R]
.fi
.PP
-c / \[en]special-chars
.IP
.nf
\f[C]
Interpret escaped character sequences (\[rs]n, \[rs]t, \[rs]\[rs], and \[rs]x00 - \[rs]xFF)
\f[R]
.fi
.PP
-b / \[en]block-size
.IP
.nf
\f[C]
Specify the maximum amount of data we can load from the file into memory at any given time

Defaults to 10 kilobytes if not specified
\f[R]
.fi
.PP
-v / \[en]verbose
.IP
.nf
\f[C]
Verbose mode
\f[R]
.fi
.PP
-V / \[en]version
.IP
.nf
\f[C]
Print version number
\f[R]
.fi
.PP
-h / \[en]help
.IP
.nf
\f[C]
Display help menu
\f[R]
.fi
.SS BLOCK SIZE
.PP
Specifying the \[lq]Block Size\[rq] tells Polonius how much data from
the file we\[cq]re willing to load into memory at once.
.PP
The default value (if unspecified) is \f[B]10 kilobytes\f[R]
.PP
The block size can be specified with the \f[I]-b\f[R] option, in the
formats:
.IP
.nf
\f[C]
1. \[ga]-b 15\[ga] (This would set the block size to 15 bytes)

2. \[ga]-b 16K\[ga] (This would set the block size to 16 kilobytes)

3. \[ga]-b 17M\[ga] (This would set the block size to 17 megabytes)
\f[R]
.fi
.PP
And of course, the example numbers `15', `16', and `17' can be swapped
for any arbitrary number
.PP
This option is common to both \f[B]polonius-reader\f[R] and
\f[B]polonius-editor\f[R]
.SS SPECIAL CHARACTERS
.PP
Setting the \[lq]special characters\[rq] flag tells Polonius to process
\f[B]escaped character sequences\f[R].
Polonius will process \f[C]\[rs]n\f[R], \f[C]\[rs]t\f[R],
\f[C]\[rs]\[rs]\f[R], and \f[C]\[rs]x00\f[R] through \f[C]\[rs]xFF\f[R].
.PP
The special characters flag can be set with the \f[I]-c\f[R] option.
.SS VERBOSE
.PP
Setting the \[lq]verbose\[rq] flag tells Polonius to let you in on what
it\[cq]s doing as it\[cq]s making edits to the file.
.PP
The verbose flag can be set with the \f[I]-v\f[R] option.
.PP
Here is some example output from Polonius with the verbose flag set:
.IP
.nf
\f[C]
$ polonius-editor ./file --verbose --add-instruction-set \[rs]
> \[dq]INSERT 0 hello world
> REMOVE 0 5
> REMOVE 10 10
> REPLACE 0 hello
> REPLACE 0 goodbye123
> INSERT 10 4\[dq]

Set file to ./file
Adjusted file length to 18
Moved 6 bytes to position #11 for INSERT instruction
Executed INSERT instruction (0, hello world)
Moved 11 bytes to position #0 for REMOVE instruction
Executed REMOVE instruction (0, 6)
Executed REMOVE instruction (10, 11)
Executed REPLACE instruction (0, hello)
Executed REPLACE instruction (0, goodbye123)
Executed INSERT instruction (10, 4)
\f[R]
.fi
.SH INSTRUCTIONS
.PP
Instructions are provided using either:
.IP "1." 3
The \f[I]\[en]add-instruction\f[R] / \f[I]-a\f[R] option
.IP "2." 3
The \f[I]\[en]add-instruction-set\f[R] / \f[I]-s\f[R] option
.PP
Valid instruction types are: \f[I]INSERT\f[R], \f[I]REMOVE\f[R], and
\f[I]REPLACE\f[R].
Instruction types are \f[B]not case-sensitive\f[R].
.SS \[lq]INSERT\[rq] INSTRUCTIONS
.PP
INSERT instructions are used to insert text into the file without
deleting pre-existing text.
.PP
The format for an insert instruction is:
.PP
\f[C]INSERT start-position text to insert\f[R]
.PP
For example, \f[C]INSERT 0 hello world\f[R] will insert the phrase
\[lq]hello world\[rq] at position 0 (the start of the file).
If the file previously contained:
.PP
\f[C]ABC123\f[R]
.PP
Then it will now contain:
.PP
\f[C]hello worldABC123\f[R]
.PP
Insert instructions will fail (and give an error) if the start position
is \f[B]less than zero\f[R], or is \f[B]beyond the end of the file\f[R]
.SS \[lq]REMOVE\[rq] INSTRUCTIONS
.PP
REMOVE instructions are used to delete text from the file.
.PP
The format a remove instruction is:
.PP
\f[C]REMOVE start-position end-position\f[R]
.PP
For example, \f[C]REMOVE 0 5\f[R] will remove characters \f[I]0, 1, 2,
3, 4,\f[R] and \f[I]5\f[R].
If the file previously contained:
.PP
\f[C]hello worldABC123\f[R]
.PP
Then it will now contain:
.PP
\f[C]worldABC123\f[R]
.PP
To remove \f[I]only one character\f[R], make the
\f[B]start-position\f[R] and \f[B]end-position\f[R] \f[I]exactly the
same\f[R].
.PP
For instance, in the example of a file containing \f[C]worldABC123\f[R],
the digit \f[I]`3'\f[R] is character \f[I]#10\f[R] \f[I](counting from
zero)\f[R].
Therefore, running \f[C]REMOVE 10 10\f[R] will change the file to:
.PP
\f[C]worldABC12\f[R]
.PP
Remove instructions will fail (and give an error) if:
.IP \[bu] 2
The start position is \f[B]less than zero\f[R]
.IP \[bu] 2
The end position is \f[B]lower than the start position\f[R]
.IP \[bu] 2
Either position is \f[B]beyond the end of the file\f[R]
.SS \[lq]REPLACE\[rq] INSTRUCTIONS
.PP
REPLACE instructions are used to replace existing text in the file
\f[B]without changing the file size\f[R].
.PP
Replace instructions are \f[B]by far\f[R] the \f[I]fastest\f[R]
operations Polonius can perform, and do not require storing
\f[B]anything\f[R] from the file in memory.
\f[I]They should be used in preference to Removes or Inserts wherever
possible.\f[R]
.PP
The format for a replace instruction is:
.PP
\f[C]REPLACE start-position new text to go in its place\f[R]
.PP
For example, \f[C]REPLACE 0 hello\f[R] will replace characters \f[I]0,
1, 2, 3,\f[R] and *4** with \f[I]\[lq]h\[rq], \[lq]e\[rq], \[lq]l\[rq],
\[lq]l\[rq],\f[R] and \f[I]\[lq]o\[rq]\f[R].
If the file previously contained:
.PP
\f[C]worldABC12\f[R]
.PP
Then it will now contain:
.PP
\f[C]helloABC12\f[R]
.PP
Replace instructions will fail (and give an error) if the \f[B]start or
end\f[R] of the replacement text is \f[B]beyond the end of the
file\f[R].
.PP
For example, if the instruction \f[C]REPLACE 0 goodbye1234\f[R] was run
on our example file (which contains \f[C]helloABC12\f[R]), the
instruction would fail, because our replacement text
(\[lq]goodbye1234\[rq]) extends beyond the current bounds of the file.
Instead, we should run two instructions:
.IP \[bu] 2
First, \f[C]REPLACE 0 goodbye123\f[R]
.IP \[bu] 2
Then, \f[C]INSERT 10 4\f[R]

.\" Automatically generated by Pandoc 2.9.2.1
.\"
.TH "polonius-reader" "1" "" "Version 1.0" "Manual for the Polonius Reader"
.hy
.SH NAME
.PP
polonius-reader - outputs a selected portion of the contents of a file
.SH SYNOPSIS
.PP
\f[C]polonius-reader ./file\f[R]
.PP
\f[C]polonius-reader ./file --start 0 --length 10\f[R]
.PP
\f[C]polonius-reader ./file --search \[dq]hello world\[dq] --output-pos\f[R]
.SH OPTIONS
.SS OVERVIEW
.PP
-i / \[en]input
.IP
.nf
\f[C]
Specify file to read

The file can also be specified without the \[aq]-i\[aq] option
\f[R]
.fi
.PP
-s / \[en]start
.IP
.nf
\f[C]
Specify start position (character number in the file)

Defaults to 0 if not specified
\f[R]
.fi
.PP
-l / \[en]length
.IP
.nf
\f[C]
Specify how many bytes to read

Defaults to full length of the file if not specified
\f[R]
.fi
.PP
-b / \[en]block-size
.IP
.nf
\f[C]
Specify the maximum amount of data we can load from the file into memory at any given time

Defaults to 1 kilobyte if not specified
\f[R]
.fi
.PP
-f / \[en]find / \[en]search
.IP
.nf
\f[C]
Search for a string in the file

Returns nothing (blank) if no matches were found

If a start position is given with -s / --start, the program will only search for matches after that start position

If a length is given with -l / --length, the program will only search for matches within that range from the start position
\f[R]
.fi
.PP
-p / \[en]output-pos
.IP
.nf
\f[C]
Output the start and end positions, rather than the actual text

Will output in the (space-delimited) format: start end

For example: 0 5

If used with searches, this will output the start and end position of the found match. If used outside of searches, this will output the start and end position of the file read
\f[R]
.fi
.PP
-V / \[en]version
.IP
.nf
\f[C]
Print version number
\f[R]
.fi
.PP
-h / \[en]help
.IP
.nf
\f[C]
Display help message
\f[R]
.fi
.SS START POSITION
.PP
Specifying the \[lq]start position\[rq] tells Polonius to skip over the
beginning of the file and only start reading at the position you specify
(specified in characters)
.PP
The start position can be specified with the \f[I]-s\f[R] option.
For example: \f[C]polonius-reader ./file -s 50\f[R]
.PP
If the start position is not specified, it defaults to position 0 (the
beginning of the file)
.SS READ LENGTH
.PP
Specifying the \[lq]read length\[rq] tells Polonius to only read X
number of characters from the start position
.PP
The read length can be specified with the \f[I]-l\f[R] option.
For example: \f[C]polonius-reader ./file -s 50 -l 10\f[R]
.PP
If the read length is not specified, Polonius will read until the end of
the file
.SS SEARCH
.PP
Polonius can search a file for a specific string
.PP
A search can be done with the \f[I]-f\f[R] option.
For example: \f[C]polonius-reader ./file -f \[dq]hello world\[dq]\f[R]
.PP
If this is combined with Start Positions or Read Lengths, the search
will happen only within those boundaries.
For example,
\f[C]polonius-reader ./file -f \[dq]hello\[dq] -s 500 -l 200\f[R] will
search for the string \[lq]hello\[rq] \f[B]only between\f[R] character
#500 and character #700
.PP
This can also be combined with the \[lq]Output Positions\[rq]
(\f[I]-p\f[R]) option.
If the \[lq]Output Positions\[rq] flag is set with -p, Polonius will
tell you \f[B]where\f[R] it found a match, in the
\f[I]space-delimited\f[R] format \f[B]startposition endposition\f[R]
(for example: \f[I]510 515\f[R]).
By default, without the \[lq]Output Positions\[rq] flag, Polonius will
output the match itself.
.PP
The search function will output \f[B]either\f[R]:
.IP "1." 3
The found match
.IP "2." 3
The \f[B]position\f[R] of the found match (\f[I]if -p is specified\f[R])
.IP "3." 3
Nothing (blank) if no match was found
.PP
There is a plan to implement Regex searches at a later date
.PP
This search function is also \f[I]fast\f[R].
Here is an example that was run on my laptop:
.IP \[bu] 2
A \f[B]2.5GB\f[R] file was created using
randomtext (https://github.com/rail5/randomtext)
.IP \[bu] 2
The string \[lq]hello world\[rq] was inserted approximately 2.4GB in
(right near the end of the file)
.IP \[bu] 2
The following commands were run through the Bash \f[B]time\f[R] utility:
.RS 2
.IP "1." 3
\f[C]polonius-reader ./big-file -f \[dq]hello world\[dq]\f[R]
.IP "2." 3
\f[C]grep -o \[dq]hello world\[dq] ./big-file\f[R]
.RE
.IP \[bu] 2
Here was the result of the \f[B]Polonius\f[R] command:
.IP
.nf
\f[C]
hello world
real    0m1.874s
user    0m0.862s
sys 0m0.980s
\f[R]
.fi
.IP \[bu] 2
Here was the result of the \f[B]grep\f[R] command:
.IP
.nf
\f[C]
grep: memory exhausted

real    0m9.696s
user    0m3.112s
sys 0m4.500s
\f[R]
.fi
.SS BLOCK SIZE
.PP
Specifying the \[lq]Block Size\[rq] tells Polonius how much data from
the file we\[cq]re willing to load into memory at once.
.PP
The default value (if unspecified) is \f[B]10 kilobytes\f[R]
.PP
The block size can be specified with the \f[I]-b\f[R] option, in the
formats:
.IP
.nf
\f[C]
1. \[ga]-b 15\[ga] (This would set the block size to 15 bytes)

2. \[ga]-b 16K\[ga] (This would set the block size to 16 kilobytes)

3. \[ga]-b 17M\[ga] (This would set the block size to 17 megabytes)
\f[R]
.fi
.PP
And of course, the example numbers `15', `16', and `17' can be swapped
for any arbitrary number
.PP
This option is common to both \f[B]polonius-reader\f[R] and
\f[B]polonius-editor\f[R]
.SS OUTPUT POSITIONS
.PP
Setting the \[lq]Output Positions\[rq] flag tells Polonius to
\f[B]not\f[R] output the actual content of the file, but instead to tell
you the \f[B]start and end positions\f[R] of the content that it
\f[I]would\[cq]ve\f[R] outputted.
.PP
The flag can be set with the -p option.
Polonius will output the positions in the space-delimited format
\f[B]startposition endposition\f[R], for example: \f[I]10 15\f[R]
.PP
This is mainly useful in two scenarios:
.IP
.nf
\f[C]
1. Searches

  When searching for a string, often we don\[aq]t just want to know *whether* a match was found, but also *where* it was found

2. Determining the length of a file

  If polonius-reader is run with **no extra arguments given**, it will output the entire contents of a file.

  In this case, if you set the *-p* flag, it will output something like \[ga]0 700\[ga], where *700* is the number of characters in the file
\f[R]
.fi
